Title: Props Context Test
Author: Test Suite
Draft date: 2024-01-01

INT. DETECTIVE'S OFFICE - DAY

The office is cluttered with case files. DETECTIVE JONES (40s) sits at his desk,
examining a revolver. His badge gleams on the desk next to a half-empty
bottle of whiskey.

JONES
(to himself)
This gun... it's the key to everything.

He puts the revolver in his leather holster and picks up his fedora hat.

/* SCRIPTRAG-META-START
{
  "content_hash": "7649bad74a98e9df",
  "analyzed_at": "2025-08-11T14:59:29.626777",
  "analyzers": {
    "props_inventory": {
      "result": {
        "error": "Validation failed after 3 attempts: 'props' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'type': 'object',
     'required': ['props', 'summary'],
     'properties': {'props': {'type': 'array',
                              'description': 'List of all props identified '
                                             'in the scene',
                              'items': {'type': 'object',
                                        'required': ['name',
                                                     'category',
                                                     'significance'],
                                        'properties': {'name': {'type': 'string',
                                                                'description': 'The '
                                                                               'name '
                                                                               'of '
                                                                               'the '
                                                                               'prop'},
                                                       'category': {'type': 'string',
                                                                    'description': 'Category '
                                                                                   'of '
                                                                                   'the '
                                                                                   'prop',
                                                                    'enum': ['weapons',
                                                                             'vehicles',
                                                                             'technology',
                                                                             'documents',
                                                                             'food_beverage',
                                                                             'clothing_accessories',
                                                                             'furniture',
                                                                             'tools_equipment',
                                                                             'personal_items',
                                                                             'money_valuables',
                                                                             'medical',
                                                                             'miscellaneous']},
                                                       'description': {'type': 'string',
                                                                       'description': 'Brief '
                                                                                      'description '
                                                                                      'of '
                                                                                      'the '
                                                                                      'prop '
                                                                                      'if '
                                                                                      'provided '
                                                                                      'in '
                                                                                      'the '
                                                                                      'script'},
                                                       'significance': {'type': 'string',
                                                                        'description': 'Story '
                                                                                       'significance '
                                                                                       'of '
                                                                                       'the '
                                                                                       'prop',
                                                                        'enum': ['hero',
                                                                                 'plot_device',
                                                                                 'character_defining',
                                                                                 'practical',
                                                                                 'background']},
                                                       'action_required': {'type': 'boolean',
                                                                           'description': 'Whether '
                                                                                          'the '
                                                                                          'prop '
                                                                                          'requires '
                                                                                          'specific '
                                                                                          'action '
                                                                                          'or '
                                                                                          'manipulation'},
                                                       'quantity': {'type': 'integer',
                                                                    'description': 'Number '
                                                                                   'of '
                                                                                   'this '
                                                                                   'prop '
                                                                                   'needed',
                                                                    'minimum': 1,
                                                                    'default': 1},
                                                       'mentions': {'type': 'array',
                                                                    'description': 'Where '
                                                                                   'the '
                                                                                   'prop '
                                                                                   'is '
                                                                                   'mentioned '
                                                                                   'in '
                                                                                   'the '
                                                                                   'scene',
                                                                    'items': {'type': 'string',
                                                                              'enum': ['action',
                                                                                       'dialogue',
                                                                                       'implied']}}}}},
                    'summary': {'type': 'object',
                                'description': 'Summary statistics for the '
                                               'scene',
                                'required': ['total_props',
                                             'hero_props',
                                             'requires_action'],
                                'properties': {'total_props': {'type': 'integer',
                                                               'description': 'Total '
                                                                              'number '
                                                                              'of '
                                                                              'unique '
                                                                              'props '
                                                                              'identified'},
                                               'hero_props': {'type': 'integer',
                                                              'description': 'Number '
                                                                             'of '
                                                                             'hero/featured '
                                                                             'props'},
                                               'requires_action': {'type': 'integer',
                                                                   'description': 'Number '
                                                                                  'of '
                                                                                  'props '
                                                                                  'requiring '
                                                                                  'actor '
                                                                                  'manipulation'},
                                               'categories': {'type': 'array',
                                                              'description': 'List '
                                                                             'of '
                                                                             'categories '
                                                                             'present '
                                                                             'in '
                                                                             'scene',
                                                              'items': {'type': 'string'}}}}}}

On instance:
    {}",
        "analyzer": "props_inventory",
        "version": "1.0"
      },
      "version": "1.0"
    }
  }
}
SCRIPTRAG-META-END */


INT. CRIME SCENE - LATER

JONES enters the crime scene. The same revolver from his office is now in an
evidence bag on a table. He pulls out his magnifying glass to examine it closer.

A FORENSICS TECH hands him a manila envelope containing photographs.

FORENSICS TECH
The gun matches the one from the Miller case.

JONES nods, putting the photos back in the envelope. He notices a coffee mug
on the counter - the same distinctive blue mug from his office.

JONES
Someone's trying to frame me.

/* SCRIPTRAG-META-START
{
  "content_hash": "4f454b4731e0fdeb",
  "analyzed_at": "2025-08-11T14:59:37.188308",
  "analyzers": {
    "props_inventory": {
      "result": {
        "error": "Validation failed after 3 attempts: 'props' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'type': 'object',
     'required': ['props', 'summary'],
     'properties': {'props': {'type': 'array',
                              'description': 'List of all props identified '
                                             'in the scene',
                              'items': {'type': 'object',
                                        'required': ['name',
                                                     'category',
                                                     'significance'],
                                        'properties': {'name': {'type': 'string',
                                                                'description': 'The '
                                                                               'name '
                                                                               'of '
                                                                               'the '
                                                                               'prop'},
                                                       'category': {'type': 'string',
                                                                    'description': 'Category '
                                                                                   'of '
                                                                                   'the '
                                                                                   'prop',
                                                                    'enum': ['weapons',
                                                                             'vehicles',
                                                                             'technology',
                                                                             'documents',
                                                                             'food_beverage',
                                                                             'clothing_accessories',
                                                                             'furniture',
                                                                             'tools_equipment',
                                                                             'personal_items',
                                                                             'money_valuables',
                                                                             'medical',
                                                                             'miscellaneous']},
                                                       'description': {'type': 'string',
                                                                       'description': 'Brief '
                                                                                      'description '
                                                                                      'of '
                                                                                      'the '
                                                                                      'prop '
                                                                                      'if '
                                                                                      'provided '
                                                                                      'in '
                                                                                      'the '
                                                                                      'script'},
                                                       'significance': {'type': 'string',
                                                                        'description': 'Story '
                                                                                       'significance '
                                                                                       'of '
                                                                                       'the '
                                                                                       'prop',
                                                                        'enum': ['hero',
                                                                                 'plot_device',
                                                                                 'character_defining',
                                                                                 'practical',
                                                                                 'background']},
                                                       'action_required': {'type': 'boolean',
                                                                           'description': 'Whether '
                                                                                          'the '
                                                                                          'prop '
                                                                                          'requires '
                                                                                          'specific '
                                                                                          'action '
                                                                                          'or '
                                                                                          'manipulation'},
                                                       'quantity': {'type': 'integer',
                                                                    'description': 'Number '
                                                                                   'of '
                                                                                   'this '
                                                                                   'prop '
                                                                                   'needed',
                                                                    'minimum': 1,
                                                                    'default': 1},
                                                       'mentions': {'type': 'array',
                                                                    'description': 'Where '
                                                                                   'the '
                                                                                   'prop '
                                                                                   'is '
                                                                                   'mentioned '
                                                                                   'in '
                                                                                   'the '
                                                                                   'scene',
                                                                    'items': {'type': 'string',
                                                                              'enum': ['action',
                                                                                       'dialogue',
                                                                                       'implied']}}}}},
                    'summary': {'type': 'object',
                                'description': 'Summary statistics for the '
                                               'scene',
                                'required': ['total_props',
                                             'hero_props',
                                             'requires_action'],
                                'properties': {'total_props': {'type': 'integer',
                                                               'description': 'Total '
                                                                              'number '
                                                                              'of '
                                                                              'unique '
                                                                              'props '
                                                                              'identified'},
                                               'hero_props': {'type': 'integer',
                                                              'description': 'Number '
                                                                             'of '
                                                                             'hero/featured '
                                                                             'props'},
                                               'requires_action': {'type': 'integer',
                                                                   'description': 'Number '
                                                                                  'of '
                                                                                  'props '
                                                                                  'requiring '
                                                                                  'actor '
                                                                                  'manipulation'},
                                               'categories': {'type': 'array',
                                                              'description': 'List '
                                                                             'of '
                                                                             'categories '
                                                                             'present '
                                                                             'in '
                                                                             'scene',
                                                              'items': {'type': 'string'}}}}}}

On instance:
    {}",
        "analyzer": "props_inventory",
        "version": "1.0"
      },
      "version": "1.0"
    }
  }
}
SCRIPTRAG-META-END */


INT. INTERROGATION ROOM - NIGHT

JONES sits across from a SUSPECT. The revolver sits in the evidence bag between them.
JONES' badge is on the table. He pulls out a cigarette and lighter.

SUSPECT
That's not my gun. I've never seen it before.

JONES slides the photographs across the table. The same manila envelope from
earlier sits nearby.

JONES
Then explain these photos.

The SUSPECT nervously taps his fingers on the metal table. A two-way mirror
reflects their tense faces.

FADE OUT.

/* SCRIPTRAG-META-START
{
  "content_hash": "9b1a059205f9bd91",
  "analyzed_at": "2025-08-11T14:59:44.148810",
  "analyzers": {
    "props_inventory": {
      "result": {
        "error": "Validation failed after 3 attempts: 'props' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'type': 'object',
     'required': ['props', 'summary'],
     'properties': {'props': {'type': 'array',
                              'description': 'List of all props identified '
                                             'in the scene',
                              'items': {'type': 'object',
                                        'required': ['name',
                                                     'category',
                                                     'significance'],
                                        'properties': {'name': {'type': 'string',
                                                                'description': 'The '
                                                                               'name '
                                                                               'of '
                                                                               'the '
                                                                               'prop'},
                                                       'category': {'type': 'string',
                                                                    'description': 'Category '
                                                                                   'of '
                                                                                   'the '
                                                                                   'prop',
                                                                    'enum': ['weapons',
                                                                             'vehicles',
                                                                             'technology',
                                                                             'documents',
                                                                             'food_beverage',
                                                                             'clothing_accessories',
                                                                             'furniture',
                                                                             'tools_equipment',
                                                                             'personal_items',
                                                                             'money_valuables',
                                                                             'medical',
                                                                             'miscellaneous']},
                                                       'description': {'type': 'string',
                                                                       'description': 'Brief '
                                                                                      'description '
                                                                                      'of '
                                                                                      'the '
                                                                                      'prop '
                                                                                      'if '
                                                                                      'provided '
                                                                                      'in '
                                                                                      'the '
                                                                                      'script'},
                                                       'significance': {'type': 'string',
                                                                        'description': 'Story '
                                                                                       'significance '
                                                                                       'of '
                                                                                       'the '
                                                                                       'prop',
                                                                        'enum': ['hero',
                                                                                 'plot_device',
                                                                                 'character_defining',
                                                                                 'practical',
                                                                                 'background']},
                                                       'action_required': {'type': 'boolean',
                                                                           'description': 'Whether '
                                                                                          'the '
                                                                                          'prop '
                                                                                          'requires '
                                                                                          'specific '
                                                                                          'action '
                                                                                          'or '
                                                                                          'manipulation'},
                                                       'quantity': {'type': 'integer',
                                                                    'description': 'Number '
                                                                                   'of '
                                                                                   'this '
                                                                                   'prop '
                                                                                   'needed',
                                                                    'minimum': 1,
                                                                    'default': 1},
                                                       'mentions': {'type': 'array',
                                                                    'description': 'Where '
                                                                                   'the '
                                                                                   'prop '
                                                                                   'is '
                                                                                   'mentioned '
                                                                                   'in '
                                                                                   'the '
                                                                                   'scene',
                                                                    'items': {'type': 'string',
                                                                              'enum': ['action',
                                                                                       'dialogue',
                                                                                       'implied']}}}}},
                    'summary': {'type': 'object',
                                'description': 'Summary statistics for the '
                                               'scene',
                                'required': ['total_props',
                                             'hero_props',
                                             'requires_action'],
                                'properties': {'total_props': {'type': 'integer',
                                                               'description': 'Total '
                                                                              'number '
                                                                              'of '
                                                                              'unique '
                                                                              'props '
                                                                              'identified'},
                                               'hero_props': {'type': 'integer',
                                                              'description': 'Number '
                                                                             'of '
                                                                             'hero/featured '
                                                                             'props'},
                                               'requires_action': {'type': 'integer',
                                                                   'description': 'Number '
                                                                                  'of '
                                                                                  'props '
                                                                                  'requiring '
                                                                                  'actor '
                                                                                  'manipulation'},
                                               'categories': {'type': 'array',
                                                              'description': 'List '
                                                                             'of '
                                                                             'categories '
                                                                             'present '
                                                                             'in '
                                                                             'scene',
                                                              'items': {'type': 'string'}}}}}}

On instance:
    {}",
        "analyzer": "props_inventory",
        "version": "1.0"
      },
      "version": "1.0"
    }
  }
}
SCRIPTRAG-META-END */
