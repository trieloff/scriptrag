# ScriptRAG Environment Variables Configuration
# Copy this file to .env and customize the values for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application environment: development, testing, production
SCRIPTRAG_ENVIRONMENT=development

# Enable debug mode (true/false)
SCRIPTRAG_DEBUG=true

# =============================================================================
# DATABASE SETTINGS (SCRIPTRAG_DB_*)
# =============================================================================

# Path to SQLite database file
SCRIPTRAG_DB_PATH=./data/screenplay.db

# Maximum number of database connections in the pool
SCRIPTRAG_DB_POOL_SIZE=10

# Connection timeout in seconds
SCRIPTRAG_DB_POOL_TIMEOUT=30

# Enable WAL (Write-Ahead Logging) mode for better concurrency (true/false)
SCRIPTRAG_DB_ENABLE_WAL_MODE=true

# SQLite synchronous mode (OFF, NORMAL, FULL)
SCRIPTRAG_DB_SYNCHRONOUS_MODE=NORMAL

# SQLite cache size in pages (negative for KB)
SCRIPTRAG_DB_CACHE_SIZE=10000

# =============================================================================
# LLM SETTINGS (SCRIPTRAG_LLM_*)
# =============================================================================

# LLM API endpoint URL (LMStudio compatible)
SCRIPTRAG_LLM_ENDPOINT=http://localhost:1234/v1

# API key for authentication (if required by your LLM provider)
# SCRIPTRAG_LLM_API_KEY=your_api_key_here

# Default model name to use for text generation
SCRIPTRAG_LLM_DEFAULT_MODEL=default

# Model name for embeddings generation
SCRIPTRAG_LLM_EMBEDDING_MODEL=default

# Request timeout in seconds
SCRIPTRAG_LLM_TIMEOUT=120

# Maximum number of retry attempts
SCRIPTRAG_LLM_MAX_RETRIES=3

# Base delay between retries in seconds
SCRIPTRAG_LLM_RETRY_DELAY=1.0

# Maximum tokens for text generation
SCRIPTRAG_LLM_MAX_TOKENS=2048

# Temperature for text generation (0.0-2.0)
SCRIPTRAG_LLM_TEMPERATURE=0.7

# Top-p sampling parameter (0.0-1.0)
SCRIPTRAG_LLM_TOP_P=0.9

# Expected embedding vector dimensions
SCRIPTRAG_LLM_EMBEDDING_DIMENSIONS=1536

# Batch size for embedding generation
SCRIPTRAG_LLM_BATCH_SIZE=32

# =============================================================================
# LOGGING SETTINGS (SCRIPTRAG_LOG_*)
# =============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
SCRIPTRAG_LOG_LEVEL=INFO

# Log format (structured, json, plain)
SCRIPTRAG_LOG_FORMAT=structured

# Path to log file (leave empty for console only)
# SCRIPTRAG_LOG_FILE_PATH=./logs/scriptrag.log

# Maximum log file size in bytes (10MB = 10485760)
SCRIPTRAG_LOG_MAX_FILE_SIZE=10485760

# Number of backup log files to keep
SCRIPTRAG_LOG_BACKUP_COUNT=5

# Whether to output logs in JSON format (true/false)
SCRIPTRAG_LOG_JSON_LOGS=false

# Log level for SQLAlchemy (DEBUG, INFO, WARNING, ERROR, CRITICAL)
SCRIPTRAG_LOG_SQLALCHEMY_LEVEL=WARNING

# Log level for HTTPX (DEBUG, INFO, WARNING, ERROR, CRITICAL)
SCRIPTRAG_LOG_HTTPX_LEVEL=WARNING

# =============================================================================
# MCP SERVER SETTINGS (SCRIPTRAG_MCP_*)
# =============================================================================

# MCP server host
SCRIPTRAG_MCP_HOST=localhost

# MCP server port
SCRIPTRAG_MCP_PORT=8080

# Maximum number of resources to expose
SCRIPTRAG_MCP_MAX_RESOURCES=1000

# Resource cache TTL in seconds
SCRIPTRAG_MCP_RESOURCE_CACHE_TTL=300

# Enable all available MCP tools (true/false)
SCRIPTRAG_MCP_ENABLE_ALL_TOOLS=true

# Comma-separated list of enabled MCP tools (if enable_all_tools is false)
# SCRIPTRAG_MCP_ENABLED_TOOLS=parse_script,search_scenes,get_character_info

# =============================================================================
# PERFORMANCE SETTINGS (SCRIPTRAG_PERF_*)
# =============================================================================

# Maximum number of nodes in the graph
SCRIPTRAG_PERF_MAX_GRAPH_NODES=100000

# Maximum depth for graph traversals
SCRIPTRAG_PERF_MAX_TRAVERSAL_DEPTH=10

# Enable query result caching (true/false)
SCRIPTRAG_PERF_ENABLE_QUERY_CACHE=true

# Cache TTL in seconds
SCRIPTRAG_PERF_CACHE_TTL=3600

# Maximum number of cached items
SCRIPTRAG_PERF_MAX_CACHE_SIZE=1000

# Batch size for embedding operations
SCRIPTRAG_PERF_EMBEDDING_BATCH_SIZE=100

# Maximum concurrent embedding requests
SCRIPTRAG_PERF_MAX_CONCURRENT_EMBEDDINGS=5

# Maximum memory usage in bytes (2GB = 2147483648)
SCRIPTRAG_PERF_MAX_MEMORY_USAGE=2147483648

# =============================================================================
# PATH SETTINGS (SCRIPTRAG_PATH_*)
# =============================================================================

# Base directory for data files
SCRIPTRAG_PATH_DATA_DIR=./data

# Directory for cache files
SCRIPTRAG_PATH_CACHE_DIR=./cache

# Directory for log files
SCRIPTRAG_PATH_LOGS_DIR=./logs

# Directory for temporary files
SCRIPTRAG_PATH_TEMP_DIR=./temp

# Directory containing screenplay files
SCRIPTRAG_PATH_SCRIPTS_DIR=./scripts

# Directory for exported files
SCRIPTRAG_PATH_EXPORTS_DIR=./exports

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# For nested configuration using double underscores
# Example: SCRIPTRAG_DATABASE__PATH=./custom/db/path.db
# This would set the database.path configuration value

# =============================================================================
# SECURITY NOTES
# =============================================================================

# - Never commit the actual .env file to version control
# - Keep API keys and sensitive information secure
# - Use different configurations for different environments
# - Consider using a secrets manager for production deployments

# =============================================================================
# USAGE EXAMPLES
# =============================================================================

# Development environment with verbose logging:
# SCRIPTRAG_ENVIRONMENT=development
# SCRIPTRAG_DEBUG=true
# SCRIPTRAG_LOG_LEVEL=DEBUG

# Production environment with JSON logging and file output:
# SCRIPTRAG_ENVIRONMENT=production
# SCRIPTRAG_DEBUG=false
# SCRIPTRAG_LOG_LEVEL=INFO
# SCRIPTRAG_LOG_JSON_LOGS=true
# SCRIPTRAG_LOG_FILE_PATH=./logs/scriptrag.log

# Custom LLM endpoint (e.g., OpenAI):
# SCRIPTRAG_LLM_ENDPOINT=https://api.openai.com/v1
# SCRIPTRAG_LLM_API_KEY=sk-your-openai-api-key
# SCRIPTRAG_LLM_DEFAULT_MODEL=gpt-4

# High-performance configuration:
# SCRIPTRAG_PERF_MAX_GRAPH_NODES=500000
# SCRIPTRAG_PERF_EMBEDDING_BATCH_SIZE=200
# SCRIPTRAG_PERF_MAX_CONCURRENT_EMBEDDINGS=10
